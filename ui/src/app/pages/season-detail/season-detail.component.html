<h1 *ngIf="!isEditMode">Create Season</h1>
<h1 *ngIf="isEditMode">Update Season</h1>

<div class="container">
    <form [formGroup]="seasonForm" (ngSubmit)="submitForm()">
        <mat-form-field appearance="outline">
            <mat-label>Season Dates</mat-label>
            <mat-date-range-input [rangePicker]="picker">
                <input matStartDate formControlName="start_date" placeholder="Start date" />
                <input matEndDate formControlName="end_date" placeholder="End date" />
            </mat-date-range-input>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-date-range-picker #picker></mat-date-range-picker>

            <mat-error *ngIf="seasonForm.get('start_date')?.hasError('required')">
                Start date is required
            </mat-error>
            <mat-error *ngIf="seasonForm.get('end_date')?.hasError('required')">
                End date is required
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Rounds</mat-label>
            <input matInput type="number" min="1" max="50" formControlName="rounds" />
            <mat-error *ngIf="seasonForm.get('rounds')?.hasError('required')">Rounds are required</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Teams</mat-label>
            <mat-select formControlName="teams" multiple>
                <mat-option *ngFor="let team of teams" [value]="team.id">
                    {{ team.name }}
                </mat-option>
            </mat-select>
        </mat-form-field>

        <button type="submit" mat-raised-button color="primary">SAVE</button>
        <button mat-stroked-button [routerLink]="['/admin/competitions']">CANCEL</button>
    </form>
</div>
